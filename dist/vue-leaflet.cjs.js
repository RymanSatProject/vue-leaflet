"use strict";var Pt=Object.create;var Je=Object.defineProperty;var Tt=Object.getOwnPropertyDescriptor;var Mt=Object.getOwnPropertyNames;var Ct=Object.getPrototypeOf,wt=Object.prototype.hasOwnProperty;var Gt=(o,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Mt(t))!wt.call(o,r)&&r!==e&&Je(o,r,{get:()=>t[r],enumerable:!(n=Tt(t,r))||n.enumerable});return o};var P=(o,t,e)=>(e=o!=null?Pt(Ct(o)):{},Gt(t||!o||!o.__esModule?Je(e,"default",{value:o,enumerable:!0}):e,o));Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const l=require("vue"),kt=require("leaflet"),ce=(o,t)=>{for(const e of Object.keys(t))o.on(e,t[e])},ye=o=>{for(const t of Object.keys(o)){const e=o[t];e&&z(e.cancel)&&e.cancel()}},Ke=o=>!o||typeof o.charAt!="function"?o:o.charAt(0).toUpperCase()+o.slice(1),z=o=>typeof o=="function",C=(o,t,e)=>{for(const n in e){const r="set"+Ke(n);o[r]?l.watch(()=>e[n],(s,i)=>{o[r](s,i)}):t[r]&&l.watch(()=>e[n],s=>{t[r](s)})}},M=(o,t,e={})=>{const n={...e};for(const r in o){const s=t[r],i=o[r];s&&(s&&s.custom===!0||i!==void 0&&(n[r]=i))}return n},I=o=>{const t={},e={};for(const n in o)if(n.startsWith("on")&&!n.startsWith("onUpdate")&&n!=="onReady"){const r=n.slice(2).toLocaleLowerCase();t[r]=o[n]}else e[n]=o[n];return{listeners:t,attrs:e}},Ye=async o=>{const t=await Promise.all([import("leaflet/dist/images/marker-icon-2x.png"),import("leaflet/dist/images/marker-icon.png"),import("leaflet/dist/images/marker-shadow.png")]);delete o.Default.prototype._getIconUrl,o.Default.mergeOptions({iconRetinaUrl:t[0].default,iconUrl:t[1].default,shadowUrl:t[2].default})},R=o=>{const t=l.ref((...n)=>console.warn(`Method ${o} has been invoked without being replaced`)),e=(...n)=>t.value(...n);return e.wrapped=t,l.provide(o,e),e},K=(o,t)=>o.wrapped.value=t,T=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||globalThis,_=o=>{const t=l.inject(o);if(t===void 0)throw new Error(`Attempt to inject ${o.description} before it was provided.`);return t},It=Object.freeze(Object.defineProperty({__proto__:null,WINDOW_OR_GLOBAL:T,assertInject:_,bindEventHandlers:ce,cancelDebounces:ye,capitalizeFirstLetter:Ke,isFunction:z,propsBinder:C,propsToLeafletOptions:M,provideLeafletWrapper:R,remapEvents:I,resetWebpackIcon:Ye,updateLeafletWrapper:K},Symbol.toStringTag,{value:"Module"})),w=Symbol("useGlobalLeaflet"),A=Symbol("addLayer"),X=Symbol("removeLayer"),D=Symbol("registerControl"),pe=Symbol("registerLayerControl"),fe=Symbol("canSetParentHtml"),me=Symbol("setParentHtml"),he=Symbol("setIcon"),ve=Symbol("bindPopup"),ge=Symbol("bindTooltip"),be=Symbol("unbindPopup"),Le=Symbol("unbindTooltip"),At=Object.freeze(Object.defineProperty({__proto__:null,AddLayerInjection:A,BindPopupInjection:ve,BindTooltipInjection:ge,CanSetParentHtmlInjection:fe,RegisterControlInjection:D,RegisterLayerControlInjection:pe,RemoveLayerInjection:X,SetIconInjection:he,SetParentHtmlInjection:me,UnbindPopupInjection:be,UnbindTooltipInjection:Le,UseGlobalLeafletInjection:w},Symbol.toStringTag,{value:"Module"})),q={options:{type:Object,default:()=>({}),custom:!0}},E=o=>({options:o.options,methods:{}}),Ut=Object.freeze(Object.defineProperty({__proto__:null,componentProps:q,setupComponent:E},Symbol.toStringTag,{value:"Module"})),$={...q,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},Z=(o,t,e)=>{const n=_(A),r=_(X),{options:s,methods:i}=E(o),a=M(o,$,s),u=()=>n({leafletObject:t.value}),c=()=>r({leafletObject:t.value}),y={...i,setAttribution(d){c(),t.value.options.attribution=d,o.visible&&u()},setName(){c(),o.visible&&u()},setLayerType(){c(),o.visible&&u()},setVisible(d){t.value&&(d?u():c())},bindPopup(d){if(!t.value||!z(t.value.bindPopup)){console.warn("Attempt to bind popup before bindPopup method available on layer.");return}t.value.bindPopup(d)},bindTooltip(d){if(!t.value||!z(t.value.bindTooltip)){console.warn("Attempt to bind tooltip before bindTooltip method available on layer.");return}t.value.bindTooltip(d)},unbindTooltip(){t.value&&(z(t.value.closeTooltip)&&t.value.closeTooltip(),z(t.value.unbindTooltip)&&t.value.unbindTooltip())},unbindPopup(){t.value&&(z(t.value.closePopup)&&t.value.closePopup(),z(t.value.unbindPopup)&&t.value.unbindPopup())},updateVisibleProp(d){e.emit("update:visible",d)}};return l.provide(ve,y.bindPopup),l.provide(ge,y.bindTooltip),l.provide(be,y.unbindPopup),l.provide(Le,y.unbindTooltip),l.onUnmounted(()=>{y.unbindPopup(),y.unbindTooltip(),c()}),{options:a,methods:y}},B=(o,t)=>{if(o&&t.default)return l.h("div",{style:{display:"none"}},t.default())},Bt=Object.freeze(Object.defineProperty({__proto__:null,layerProps:$,render:B,setupLayer:Z},Symbol.toStringTag,{value:"Module"})),Oe={...$,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},Xe=(o,t,e)=>{const{options:n,methods:r}=Z(o,t,e);return{options:M(o,Oe,n),methods:r}},xt=Object.freeze(Object.defineProperty({__proto__:null,interactiveLayerProps:Oe,setupInteractiveLayer:Xe},Symbol.toStringTag,{value:"Module"})),V={...Oe,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}},oe=(o,t,e)=>{const{options:n,methods:r}=Xe(o,t,e),s=M(o,V,n),i=_(X),a={...r,setStroke(u){t.value.setStyle({stroke:u})},setColor(u){t.value.setStyle({color:u})},setWeight(u){t.value.setStyle({weight:u})},setOpacity(u){t.value.setStyle({opacity:u})},setLineCap(u){t.value.setStyle({lineCap:u})},setLineJoin(u){t.value.setStyle({lineJoin:u})},setDashArray(u){t.value.setStyle({dashArray:u})},setDashOffset(u){t.value.setStyle({dashOffset:u})},setFill(u){t.value.setStyle({fill:u})},setFillColor(u){t.value.setStyle({fillColor:u})},setFillOpacity(u){t.value.setStyle({fillOpacity:u})},setFillRule(u){t.value.setStyle({fillRule:u})},setClassName(u){t.value.setStyle({className:u})}};return l.onBeforeUnmount(()=>{i({leafletObject:t.value})}),{options:s,methods:a}},Nt=Object.freeze(Object.defineProperty({__proto__:null,pathProps:V,setupPath:oe},Symbol.toStringTag,{value:"Module"})),ne={...V,radius:{type:Number},latLng:{type:[Object,Array],required:!0,custom:!0}},_e=(o,t,e)=>{const{options:n,methods:r}=oe(o,t,e),s=M(o,ne,n),i={...r,setRadius(a){t.value.setRadius(a)},setLatLng(a){t.value.setLatLng(a)}};return{options:s,methods:i}},zt=Object.freeze(Object.defineProperty({__proto__:null,circleMarkerProps:ne,setupCircleMarker:_e},Symbol.toStringTag,{value:"Module"})),Se={...ne,radius:{type:Number}},Ve=(o,t,e)=>{const{options:n,methods:r}=_e(o,t,e),s=M(o,Se,n),i={...r};return{options:s,methods:i}},$t=Object.freeze(Object.defineProperty({__proto__:null,circleProps:Se,setupCircle:Ve},Symbol.toStringTag,{value:"Module"})),Ft=l.defineComponent({name:"LCircle",props:Se,setup(o,t){const e=l.ref(),n=l.ref(!1),r=l.inject(w),s=_(A),{options:i,methods:a}=Ve(o,e,t);return l.onMounted(async()=>{const{circle:u}=r?T.L:await import("leaflet/dist/leaflet-src.esm");e.value=l.markRaw(u(o.latLng,i));const{listeners:c}=I(t.attrs);e.value.on(c),C(a,e.value,o),s({...o,...a,leafletObject:e.value}),n.value=!0,l.nextTick(()=>t.emit("ready",e.value))}),{ready:n,leafletObject:e}},render(){return B(this.ready,this.$slots)}}),Dt=l.defineComponent({name:"LCircleMarker",props:ne,setup(o,t){const e=l.ref(),n=l.ref(!1),r=l.inject(w),s=_(A),{options:i,methods:a}=_e(o,e,t);return l.onMounted(async()=>{const{circleMarker:u}=r?T.L:await import("leaflet/dist/leaflet-src.esm");e.value=l.markRaw(u(o.latLng,i));const{listeners:c}=I(t.attrs);e.value.on(c),C(a,e.value,o),s({...o,...a,leafletObject:e.value}),n.value=!0,l.nextTick(()=>t.emit("ready",e.value))}),{ready:n,leafletObject:e}},render(){return B(this.ready,this.$slots)}}),F={...q,position:{type:String}},W=(o,t)=>{const{options:e,methods:n}=E(o),r=M(o,F,e),s={...n,setPosition(i){t.value&&t.value.setPosition(i)}};return l.onUnmounted(()=>{t.value&&t.value.remove()}),{options:r,methods:s}},Qe=o=>o.default?l.h("div",{ref:"root"},o.default()):null,qt=Object.freeze(Object.defineProperty({__proto__:null,controlProps:F,renderLControl:Qe,setupControl:W},Symbol.toStringTag,{value:"Module"})),Et=l.defineComponent({name:"LControl",props:{...F,disableClickPropagation:{type:Boolean,custom:!0,default:!0},disableScrollPropagation:{type:Boolean,custom:!0,default:!1}},setup(o,t){const e=l.ref(),n=l.ref(),r=l.inject(w),s=_(D),{options:i,methods:a}=W(o,e);return l.onMounted(async()=>{const{Control:u,DomEvent:c}=r?T.L:await import("leaflet/dist/leaflet-src.esm"),y=u.extend({onAdd(){return n.value}});e.value=l.markRaw(new y(i)),C(a,e.value,o),s({leafletObject:e.value}),o.disableClickPropagation&&n.value&&c.disableClickPropagation(n.value),o.disableScrollPropagation&&n.value&&c.disableScrollPropagation(n.value),l.nextTick(()=>t.emit("ready",e.value))}),{root:n,leafletObject:e}},render(){return Qe(this.$slots)}}),je={...F,prefix:{type:String}},et=(o,t)=>{const{options:e,methods:n}=W(o,t),r=M(o,je,e),s={...n,setPrefix(i){t.value.setPrefix(i)}};return{options:r,methods:s}},Zt=Object.freeze(Object.defineProperty({__proto__:null,controlAttributionProps:je,setupControlAttribution:et},Symbol.toStringTag,{value:"Module"})),Wt=l.defineComponent({name:"LControlAttribution",props:je,setup(o,t){const e=l.ref(),n=l.inject(w),r=_(D),{options:s,methods:i}=et(o,e);return l.onMounted(async()=>{const{control:a}=n?T.L:await import("leaflet/dist/leaflet-src.esm");e.value=l.markRaw(a.attribution(s)),C(i,e.value,o),r({leafletObject:e.value}),l.nextTick(()=>t.emit("ready",e.value))}),{leafletObject:e}},render(){return null}}),Pe={...F,collapsed:{type:Boolean,default:void 0},autoZIndex:{type:Boolean,default:void 0},hideSingleBase:{type:Boolean,default:void 0},sortLayers:{type:Boolean,default:void 0},sortFunction:{type:Function}},tt=(o,t)=>{const{options:e}=W(o,t);return{options:M(o,Pe,e),methods:{addLayer(s){s.layerType==="base"?t.value.addBaseLayer(s.leafletObject,s.name):s.layerType==="overlay"&&t.value.addOverlay(s.leafletObject,s.name)},removeLayer(s){t.value.removeLayer(s.leafletObject)}}}},Jt=Object.freeze(Object.defineProperty({__proto__:null,controlLayersProps:Pe,setupControlLayers:tt},Symbol.toStringTag,{value:"Module"})),Ht=l.defineComponent({name:"LControlLayers",props:Pe,setup(o,t){const e=l.ref(),n=l.inject(w),r=_(pe),{options:s,methods:i}=tt(o,e);return l.onMounted(async()=>{const{control:a}=n?T.L:await import("leaflet/dist/leaflet-src.esm");e.value=l.markRaw(a.layers(void 0,void 0,s)),C(i,e.value,o),r({...o,...i,leafletObject:e.value}),l.nextTick(()=>t.emit("ready",e.value))}),{leafletObject:e}},render(){return null}}),Te={...F,maxWidth:{type:Number},metric:{type:Boolean,default:void 0},imperial:{type:Boolean,default:void 0},updateWhenIdle:{type:Boolean,default:void 0}},ot=(o,t)=>{const{options:e,methods:n}=W(o,t);return{options:M(o,Te,e),methods:n}},Rt=Object.freeze(Object.defineProperty({__proto__:null,controlScaleProps:Te,setupControlScale:ot},Symbol.toStringTag,{value:"Module"})),Kt=l.defineComponent({name:"LControlScale",props:Te,setup(o,t){const e=l.ref(),n=l.inject(w),r=_(D),{options:s,methods:i}=ot(o,e);return l.onMounted(async()=>{const{control:a}=n?T.L:await import("leaflet/dist/leaflet-src.esm");e.value=l.markRaw(a.scale(s)),C(i,e.value,o),r({leafletObject:e.value}),l.nextTick(()=>t.emit("ready",e.value))}),{leafletObject:e}},render(){return null}}),Me={...F,zoomInText:{type:String},zoomInTitle:{type:String},zoomOutText:{type:String},zoomOutTitle:{type:String}},nt=(o,t)=>{const{options:e,methods:n}=W(o,t);return{options:M(o,Me,e),methods:n}},Yt=Object.freeze(Object.defineProperty({__proto__:null,controlZoomProps:Me,setupControlZoom:nt},Symbol.toStringTag,{value:"Module"})),Xt=l.defineComponent({name:"LControlZoom",props:Me,setup(o,t){const e=l.ref(),n=l.inject(w),r=_(D),{options:s,methods:i}=nt(o,e);return l.onMounted(async()=>{const{control:a}=n?T.L:await import("leaflet/dist/leaflet-src.esm");e.value=l.markRaw(a.zoom(s)),C(i,e.value,o),r({leafletObject:e.value}),l.nextTick(()=>t.emit("ready",e.value))}),{leafletObject:e}},render(){return null}}),Q={...$},re=(o,t,e)=>{const{options:n,methods:r}=Z(o,t,e),s=M(o,Q,n),i={...r,addLayer(a){t.value.addLayer(a.leafletObject)},removeLayer(a){t.value.removeLayer(a.leafletObject)}};return l.provide(A,i.addLayer),l.provide(X,i.removeLayer),{options:s,methods:i}},Vt=Object.freeze(Object.defineProperty({__proto__:null,layerGroupProps:Q,setupLayerGroup:re},Symbol.toStringTag,{value:"Module"})),Ce={...Q},rt=(o,t,e)=>{const{options:n,methods:r}=re(o,t,e),s=M(o,Ce,n),i={...r};return{options:s,methods:i}},Qt=Object.freeze(Object.defineProperty({__proto__:null,featureGroupProps:Ce,setupFeatureGroup:rt},Symbol.toStringTag,{value:"Module"})),eo=l.defineComponent({props:Ce,setup(o,t){const e=l.ref(),n=l.ref(!1),r=l.inject(w),s=_(A),{methods:i,options:a}=rt(o,e,t);return l.onMounted(async()=>{const{featureGroup:u}=r?T.L:await import("leaflet/dist/leaflet-src.esm");e.value=l.markRaw(u(void 0,a));const{listeners:c}=I(t.attrs);e.value.on(c),C(i,e.value,o),s({...o,...i,leafletObject:e.value}),n.value=!0,l.nextTick(()=>t.emit("ready",e.value))}),{ready:n,leafletObject:e}},render(){return B(this.ready,this.$slots)}}),we={...Q,geojson:{type:[Object,Array],custom:!0},optionsStyle:{type:Function,custom:!0}},st=(o,t,e)=>{const{options:n,methods:r}=re(o,t,e),s=M(o,we,n);Object.prototype.hasOwnProperty.call(o,"optionsStyle")&&(s.style=o.optionsStyle);const i={...r,setGeojson(a){t.value.clearLayers(),t.value.addData(a)},setOptionsStyle(a){t.value.setStyle(a)},getGeoJSONData(){return t.value.toGeoJSON()},getBounds(){return t.value.getBounds()}};return{options:s,methods:i}},to=Object.freeze(Object.defineProperty({__proto__:null,geoJSONProps:we,setupGeoJSON:st},Symbol.toStringTag,{value:"Module"})),oo=l.defineComponent({props:we,setup(o,t){const e=l.ref(),n=l.ref(!1),r=l.inject(w),s=_(A),{methods:i,options:a}=st(o,e,t);return l.onMounted(async()=>{const{geoJSON:u}=r?T.L:await import("leaflet/dist/leaflet-src.esm");e.value=l.markRaw(u(o.geojson,a));const{listeners:c}=I(t.attrs);e.value.on(c),C(i,e.value,o),s({...o,...i,leafletObject:e.value}),n.value=!0,l.nextTick(()=>t.emit("ready",e.value))}),{ready:n,leafletObject:e}},render(){return B(this.ready,this.$slots)}}),se={...$,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:[Number,Array,Object]},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number},className:{type:String}},Ge=(o,t,e)=>{const{options:n,methods:r}=Z(o,t,e),s=M(o,se,n),i={...r,setTileComponent(){var a;(a=t.value)==null||a.redraw()}};return l.onUnmounted(()=>{t.value.off()}),{options:s,methods:i}},at=(o,t,e,n)=>o.extend({initialize(r){this.tileComponents={},this.on("tileunload",this._unloadTile),e.setOptions(this,r)},createTile(r){const s=this._tileCoordsToKey(r);this.tileComponents[s]=t.create("div");const i=l.h({setup:n,props:["coords"]},{coords:r});return l.render(i,this.tileComponents[s]),this.tileComponents[s]},_unloadTile(r){const s=this._tileCoordsToKey(r.coords);this.tileComponents[s]&&(this.tileComponents[s].innerHTML="",this.tileComponents[s]=void 0)}}),no=Object.freeze(Object.defineProperty({__proto__:null,CreateVueGridLayer:at,gridLayerProps:se,setupGridLayer:Ge},Symbol.toStringTag,{value:"Module"})),ro=l.defineComponent({props:{...se,childRender:{type:Function,required:!0}},setup(o,t){const e=l.ref(),n=l.ref(null),r=l.ref(!1),s=l.inject(w),i=_(A),{options:a,methods:u}=Ge(o,e,t);return l.onMounted(async()=>{const{GridLayer:c,DomUtil:y,Util:d}=s?T.L:await import("leaflet/dist/leaflet-src.esm"),p=at(c,y,d,o.childRender);e.value=l.markRaw(new p(a));const{listeners:f}=I(t.attrs);e.value.on(f),C(u,e.value,o),i({...o,...u,leafletObject:e.value}),r.value=!0,l.nextTick(()=>t.emit("ready",e.value))}),{root:n,ready:r,leafletObject:e}},render(){return this.ready?l.h("div",{style:{display:"none"},ref:"root"}):null}}),de={iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}},so=Object.freeze(Object.defineProperty({__proto__:null,iconProps:de},Symbol.toStringTag,{value:"Module"})),ao=l.defineComponent({name:"LIcon",props:{...de,...q},setup(o,t){const e=l.ref(),n=l.inject(w),r=_(fe),s=_(me),i=_(he);let a,u,c,y,d;const p=(O,v,g)=>{const U=O&&O.innerHTML;if(!v){g&&d&&r()&&s(U);return}const{listeners:N}=I(t.attrs);d&&u(d,N);const{options:J}=E(o),S=M(o,de,J);U&&(S.html=U),d=S.html?c(S):y(S),a(d,N),i(d)},f=()=>{l.nextTick(()=>p(e.value,!0,!1))},h=()=>{l.nextTick(()=>p(e.value,!1,!0))},G={setIconUrl:f,setIconRetinaUrl:f,setIconSize:f,setIconAnchor:f,setPopupAnchor:f,setTooltipAnchor:f,setShadowUrl:f,setShadowRetinaUrl:f,setShadowAnchor:f,setBgPos:f,setClassName:f,setHtml:f};return l.onMounted(async()=>{const{DomEvent:O,divIcon:v,icon:g}=n?T.L:await import("leaflet/dist/leaflet-src.esm");a=O.on,u=O.off,c=v,y=g,C(G,{},o),new MutationObserver(h).observe(e.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),f()}),{root:e}},render(){const o=this.$slots.default?this.$slots.default():void 0;return l.h("div",{ref:"root"},o)}}),ae={...$,opacity:{type:Number},alt:{type:String},interactive:{type:Boolean,default:void 0},crossOrigin:{type:Boolean,default:void 0},errorOverlayUrl:{type:String},zIndex:{type:Number},className:{type:String},url:{type:String,required:!0,custom:!0},bounds:{type:[Array,Object],required:!0,custom:!0}},ke=(o,t,e)=>{const{options:n,methods:r}=Z(o,t,e),s=M(o,ae,n),i={...r,setOpacity(a){return t.value.setOpacity(a)},setUrl(a){return t.value.setUrl(a)},setBounds(a){return t.value.setBounds(a)},getBounds(){return t.value.getBounds()},getElement(){return t.value.getElement()},bringToFront(){return t.value.bringToFront()},bringToBack(){return t.value.bringToBack()},setZIndex(a){return t.value.setZIndex(a)}};return{options:s,methods:i}},io=Object.freeze(Object.defineProperty({__proto__:null,imageOverlayProps:ae,setupImageOverlay:ke},Symbol.toStringTag,{value:"Module"})),lo=l.defineComponent({name:"LImageOverlay",props:ae,setup(o,t){const e=l.ref(),n=l.ref(!1),r=l.inject(w),s=_(A),{options:i,methods:a}=ke(o,e,t);return l.onMounted(async()=>{const{imageOverlay:u}=r?T.L:await import("leaflet/dist/leaflet-src.esm");e.value=l.markRaw(u(o.url,o.bounds,i));const{listeners:c}=I(t.attrs);e.value.on(c),C(a,e.value,o),s({...o,...a,leafletObject:e.value}),n.value=!0,l.nextTick(()=>t.emit("ready",e.value))}),{ready:n,leafletObject:e}},render(){return B(this.ready,this.$slots)}}),it={...ae,url:{type:[SVGElement,String],required:!0,custom:!0}},uo=(o,t,e)=>{const{options:n,methods:r}=ke(o,t,e),s=M(o,it,n),i={...r,getElement(){return t.value.getElement()}};return{options:s,methods:i}},co=l.defineComponent({name:"LSVGOverlay",props:it,setup(o,t){const e=l.ref(),n=l.ref(!1),r=l.inject(w),s=_(A),{options:i,methods:a}=uo(o,e,t);return l.onMounted(async()=>{const{svgOverlay:u}=r?T.L:await import("leaflet/dist/leaflet-src.esm");e.value=l.markRaw(u(o.url,o.bounds,i));const{listeners:c}=I(t.attrs);e.value.on(c),C(a,e.value,o),s({...o,...a,leafletObject:e.value}),n.value=!0,l.nextTick(()=>t.emit("ready",e.value))}),{ready:n,leafletObject:e}},render(){return B(this.ready,this.$slots)}}),yo=l.defineComponent({props:Q,setup(o,t){const e=l.ref(),n=l.ref(!1),r=l.inject(w),s=_(A),{methods:i}=re(o,e,t);return l.onMounted(async()=>{const{layerGroup:a}=r?T.L:await import("leaflet/dist/leaflet-src.esm");e.value=l.markRaw(a(void 0,o.options));const{listeners:u}=I(t.attrs);e.value.on(u),C(i,e.value,o),s({...o,...i,leafletObject:e.value}),n.value=!0,l.nextTick(()=>t.emit("ready",e.value))}),{ready:n,leafletObject:e}},render(){return B(this.ready,this.$slots)}});function lt(o,t,e){var n,r,s;t===void 0&&(t=50),e===void 0&&(e={});var i=(n=e.isImmediate)!=null&&n,a=(r=e.callback)!=null&&r,u=e.maxWait,c=Date.now(),y=[];function d(){if(u!==void 0){var f=Date.now()-c;if(f+t>=u)return u-f}return t}var p=function(){var f=[].slice.call(arguments),h=this;return new Promise(function(G,O){var v=i&&s===void 0;if(s!==void 0&&clearTimeout(s),s=setTimeout(function(){if(s=void 0,c=Date.now(),!i){var U=o.apply(h,f);a&&a(U),y.forEach(function(N){return(0,N.resolve)(U)}),y=[]}},d()),v){var g=o.apply(h,f);return a&&a(g),G(g)}y.push({resolve:G,reject:O})})};return p.cancel=function(f){s!==void 0&&clearTimeout(s),y.forEach(function(h){return(0,h.reject)(f)}),y=[]},p}const He={...q,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:[Object,Array]},paddingTopLeft:{type:Object},padding:{type:Object},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:!0,custom:!0}},po=l.defineComponent({inheritAttrs:!1,emits:["ready","update:zoom","update:center","update:bounds"],props:He,setup(o,t){const e=l.ref(),n=l.reactive({ready:!1,layersToAdd:[],layersInControl:[]}),{options:r}=E(o),s=M(o,He,r),{listeners:i,attrs:a}=I(t.attrs),u=R(A),c=R(X),y=R(D),d=R(pe);l.provide(w,o.useGlobalLeaflet);const p=l.computed(()=>{const v={};return o.noBlockingAnimations&&(v.animate=!1),v}),f=l.computed(()=>{const v=p.value;return o.padding&&(v.padding=o.padding),o.paddingTopLeft&&(v.paddingTopLeft=o.paddingTopLeft),o.paddingBottomRight&&(v.paddingBottomRight=o.paddingBottomRight),v}),h={moveend:lt(v=>{n.leafletRef&&(t.emit("update:zoom",n.leafletRef.getZoom()),t.emit("update:center",n.leafletRef.getCenter()),t.emit("update:bounds",n.leafletRef.getBounds()))}),overlayadd(v){const g=n.layersInControl.find(U=>U.name===v.name);g&&g.updateVisibleProp(!0)},overlayremove(v){const g=n.layersInControl.find(U=>U.name===v.name);g&&g.updateVisibleProp(!1)}};l.onMounted(async()=>{o.useGlobalLeaflet&&(T.L=T.L||await import("leaflet"));const{map:v,CRS:g,Icon:U,latLngBounds:N,latLng:J,stamp:S}=o.useGlobalLeaflet?T.L:await import("leaflet/dist/leaflet-src.esm");try{s.beforeMapMount&&await s.beforeMapMount()}catch(m){console.error(`The following error occurred running the provided beforeMapMount hook ${m.message}`)}await Ye(U);const b=typeof s.crs=="string"?g[s.crs]:s.crs;s.crs=b||g.EPSG3857;const k={addLayer(m){m.layerType!==void 0&&(n.layerControl===void 0?n.layersToAdd.push(m):n.layersInControl.find(x=>S(x.leafletObject)===S(m.leafletObject))||(n.layerControl.addLayer(m),n.layersInControl.push(m))),m.visible!==!1&&n.leafletRef.addLayer(m.leafletObject)},removeLayer(m){m.layerType!==void 0&&(n.layerControl===void 0?n.layersToAdd=n.layersToAdd.filter(j=>j.name!==m.name):(n.layerControl.removeLayer(m.leafletObject),n.layersInControl=n.layersInControl.filter(j=>S(j.leafletObject)!==S(m.leafletObject)))),n.leafletRef.removeLayer(m.leafletObject)},registerLayerControl(m){n.layerControl=m,n.layersToAdd.forEach(j=>{n.layerControl.addLayer(j)}),n.layersToAdd=[],y(m)},registerControl(m){n.leafletRef.addControl(m.leafletObject)},setZoom(m){const j=n.leafletRef.getZoom();m!==j&&n.leafletRef.setZoom(m,p.value)},setCrs(m){const j=n.leafletRef.getBounds();n.leafletRef.options.crs=m,n.leafletRef.fitBounds(j,{animate:!1,padding:[0,0]})},fitBounds(m){n.leafletRef.fitBounds(m,f.value)},setBounds(m){if(!m)return;const j=N(m);if(!j.isValid())return;!(n.lastSetBounds||n.leafletRef.getBounds()).equals(j,0)&&(n.lastSetBounds=j,n.leafletRef.fitBounds(j))},setCenter(m){if(m==null)return;const j=J(m),x=n.lastSetCenter||n.leafletRef.getCenter();(x.lat!==j.lat||x.lng!==j.lng)&&(n.lastSetCenter=j,n.leafletRef.panTo(j,p.value))}};K(u,k.addLayer),K(c,k.removeLayer),K(y,k.registerControl),K(d,k.registerLayerControl),n.leafletRef=l.markRaw(v(e.value,s)),C(k,n.leafletRef,o),ce(n.leafletRef,h),ce(n.leafletRef,i),n.ready=!0,l.nextTick(()=>t.emit("ready",n.leafletRef))}),l.onBeforeUnmount(()=>{ye(h),n.leafletRef&&(n.leafletRef.off(),n.leafletRef.remove())});const G=l.computed(()=>n.leafletRef),O=l.computed(()=>n.ready);return{root:e,ready:O,leafletObject:G,attrs:a}},render({attrs:o}){return o.style||(o.style={}),o.style.width||(o.style.width="100%"),o.style.height||(o.style.height="100%"),l.h("div",{...o,ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}}),fo=["Symbol(Comment)","Symbol(Text)"],mo=["LTooltip","LPopup"],Ie={...$,draggable:{type:Boolean,default:void 0},icon:{type:[Object]},zIndexOffset:{type:Number},latLng:{type:[Object,Array],custom:!0,required:!0}},ut=(o,t,e)=>{const{options:n,methods:r}=Z(o,t,e),s=M(o,Ie,n),i={...r,setDraggable(a){t.value.dragging&&(a?t.value.dragging.enable():t.value.dragging.disable())},latLngSync(a){e.emit("update:latLng",a.latlng),e.emit("update:lat-lng",a.latlng)},setLatLng(a){if(a!=null&&t.value){const u=t.value.getLatLng();(!u||!u.equals(a))&&t.value.setLatLng(a)}}};return{options:s,methods:i}},ct=(o,t)=>{const e=t.slots.default&&t.slots.default();return e&&e.length&&e.some(ho)};function ho(o){return!(fo.includes(o.type.toString())||mo.includes(o.type.name))}const vo=Object.freeze(Object.defineProperty({__proto__:null,markerProps:Ie,setupMarker:ut,shouldBlankIcon:ct},Symbol.toStringTag,{value:"Module"})),go=l.defineComponent({name:"LMarker",props:Ie,setup(o,t){const e=l.ref(),n=l.ref(!1),r=l.inject(w),s=_(A);l.provide(fe,()=>{var c;return!!((c=e.value)!=null&&c.getElement())}),l.provide(me,c=>{var d,p;const y=z((d=e.value)==null?void 0:d.getElement)&&((p=e.value)==null?void 0:p.getElement());y&&(y.innerHTML=c)}),l.provide(he,c=>{var y;return((y=e.value)==null?void 0:y.setIcon)&&e.value.setIcon(c)});const{options:i,methods:a}=ut(o,e,t),u={moveHandler:lt(a.latLngSync)};return l.onMounted(async()=>{const{marker:c,divIcon:y}=r?T.L:await import("leaflet/dist/leaflet-src.esm");ct(i,t)&&(i.icon=y({className:""})),e.value=l.markRaw(c(o.latLng,i));const{listeners:d}=I(t.attrs);e.value.on(d),e.value.on("move",u.moveHandler),C(a,e.value,o),s({...o,...a,leafletObject:e.value}),n.value=!0,l.nextTick(()=>t.emit("ready",e.value))}),l.onBeforeUnmount(()=>ye(u)),{ready:n,leafletObject:e}},render(){return B(this.ready,this.$slots)}}),ie={...V,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},Ae=(o,t,e)=>{const{options:n,methods:r}=oe(o,t,e),s=M(o,ie,n),i={...r,setSmoothFactor(a){t.value.setStyle({smoothFactor:a})},setNoClip(a){t.value.setStyle({noClip:a})},addLatLng(a){t.value.addLatLng(a)}};return{options:s,methods:i}},bo=Object.freeze(Object.defineProperty({__proto__:null,polylineProps:ie,setupPolyline:Ae},Symbol.toStringTag,{value:"Module"})),Y={...ie},Ue=(o,t,e)=>{const{options:n,methods:r}=Ae(o,t,e),s=M(o,Y,n),i={...r,toGeoJSON(a){return t.value.toGeoJSON(a)}};return{options:s,methods:i}},Lo=Object.freeze(Object.defineProperty({__proto__:null,polygonProps:Y,setupPolygon:Ue},Symbol.toStringTag,{value:"Module"})),Oo=l.defineComponent({name:"LPolygon",props:Y,setup(o,t){const e=l.ref(),n=l.ref(!1),r=l.inject(w),s=_(A),{options:i,methods:a}=Ue(o,e,t);return l.onMounted(async()=>{const{polygon:u}=r?T.L:await import("leaflet/dist/leaflet-src.esm");e.value=l.markRaw(u(o.latLngs,i));const{listeners:c}=I(t.attrs);e.value.on(c),C(a,e.value,o),s({...o,...a,leafletObject:e.value}),n.value=!0,l.nextTick(()=>t.emit("ready",e.value))}),{ready:n,leafletObject:e}},render(){return B(this.ready,this.$slots)}}),_o=l.defineComponent({name:"LPolyline",props:ie,setup(o,t){const e=l.ref(),n=l.ref(!1),r=l.inject(w),s=_(A),{options:i,methods:a}=Ae(o,e,t);return l.onMounted(async()=>{const{polyline:u}=r?T.L:await import("leaflet/dist/leaflet-src.esm");e.value=l.markRaw(u(o.latLngs,i));const{listeners:c}=I(t.attrs);e.value.on(c),C(a,e.value,o),s({...o,...a,leafletObject:e.value}),n.value=!0,l.nextTick(()=>t.emit("ready",e.value))}),{ready:n,leafletObject:e}},render(){return B(this.ready,this.$slots)}});var So={exports:{}};(function(o){(function(t){var e;e=kt,o.exports=t(e)})(function(t){return t.Polyline._flat=t.LineUtil.isFlat||t.Polyline._flat||function(e){return!t.Util.isArray(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"},t.GeometryUtil=t.extend(t.GeometryUtil||{},{distance:function(e,n,r){return e.latLngToLayerPoint(n).distanceTo(e.latLngToLayerPoint(r))},distanceSegment:function(e,n,r,s){var i=e.latLngToLayerPoint(n),a=e.latLngToLayerPoint(r),u=e.latLngToLayerPoint(s);return t.LineUtil.pointToSegmentDistance(i,a,u)},readableDistance:function(e,n){var r=n!=="imperial",s;return r?e>1e3?s=(e/1e3).toFixed(2)+" km":s=e.toFixed(1)+" m":(e*=1.09361,e>1760?s=(e/1760).toFixed(2)+" miles":s=e.toFixed(1)+" yd"),s},belongsSegment:function(e,n,r,s){s=s===void 0?.2:s;var i=n.distanceTo(r),a=n.distanceTo(e)+e.distanceTo(r)-i;return a/i<s},length:function(e){var n=t.GeometryUtil.accumulatedLengths(e);return n.length>0?n[n.length-1]:0},accumulatedLengths:function(e){if(typeof e.getLatLngs=="function"&&(e=e.getLatLngs()),e.length===0)return[];for(var n=0,r=[0],s=0,i=e.length-1;s<i;s++)n+=e[s].distanceTo(e[s+1]),r.push(n);return r},closestOnSegment:function(e,n,r,s){var i=e.getMaxZoom();i===1/0&&(i=e.getZoom());var a=e.project(n,i),u=e.project(r,i),c=e.project(s,i),y=t.LineUtil.closestPointOnSegment(a,u,c);return e.unproject(y,i)},closestOnCircle:function(e,n){const r=e.getLatLng(),s=e.getRadius(),i=typeof s=="number"?s:s.radius,a=n.lng,u=n.lat,c=r.lng,y=r.lat,d=a-c,p=u-y,f=Math.sqrt(d*d+p*p),h=c+d/f*i,G=y+p/f*i;return new t.LatLng(G,h)},closest:function(e,n,r,s){var i,a=1/0,u=null,c,y,d,p;if(n instanceof Array)if(n[0]instanceof Array&&typeof n[0][0]!="number"){for(c=0;c<n.length;c++)p=t.GeometryUtil.closest(e,n[c],r,s),p&&p.distance<a&&(a=p.distance,u=p);return u}else if(n[0]instanceof t.LatLng||typeof n[0][0]=="number"||typeof n[0].lat=="number")n=t.polyline(n);else return u;if(!(n instanceof t.Polyline))return u;if(i=JSON.parse(JSON.stringify(n.getLatLngs().slice(0))),n instanceof t.Polygon){var f=function(v){if(t.Polyline._flat(v))v.push(v[0]);else for(var g=0;g<v.length;g++)f(v[g])};f(i)}if(t.Polyline._flat(i)){if(s){for(c=0,y=i.length;c<y;c++){var h=i[c];d=t.GeometryUtil.distance(e,r,h),d<a&&(a=d,u=h,u.distance=d)}return u}for(c=0,y=i.length;c<y-1;c++){var G=i[c],O=i[c+1];d=t.GeometryUtil.distanceSegment(e,r,G,O),d<=a&&(a=d,u=t.GeometryUtil.closestOnSegment(e,r,G,O),u.distance=d)}return u}else{for(c=0;c<i.length;c++)p=t.GeometryUtil.closest(e,i[c],r,s),p.distance<a&&(a=p.distance,u=p);return u}},closestLayer:function(e,n,r){for(var s=1/0,i=null,a=null,u=1/0,c=0,y=n.length;c<y;c++){var d=n[c];if(d instanceof t.LayerGroup){var p=t.GeometryUtil.closestLayer(e,d.getLayers(),r);p.distance<s&&(s=p.distance,i=p)}else d instanceof t.Circle?(a=this.closestOnCircle(d,r),u=t.GeometryUtil.distance(e,r,a)):typeof d.getLatLng=="function"?(a=d.getLatLng(),u=t.GeometryUtil.distance(e,r,a)):(a=t.GeometryUtil.closest(e,d,r),a&&(u=a.distance)),u<s&&(s=u,i={layer:d,latlng:a,distance:u})}return i},nClosestLayers:function(e,n,r,s){if(s=typeof s=="number"?s:n.length,s<1||n.length<1)return null;for(var i=[],a,u,c=0,y=n.length;c<y;c++){var d=n[c];if(d instanceof t.LayerGroup){var p=t.GeometryUtil.closestLayer(e,d.getLayers(),r);i.push(p)}else d instanceof t.Circle?(u=this.closestOnCircle(d,r),a=t.GeometryUtil.distance(e,r,u)):typeof d.getLatLng=="function"?(u=d.getLatLng(),a=t.GeometryUtil.distance(e,r,u)):(u=t.GeometryUtil.closest(e,d,r),u&&(a=u.distance)),i.push({layer:d,latlng:u,distance:a})}return i.sort(function(f,h){return f.distance-h.distance}),i.length>s?i.slice(0,s):i},layersWithin:function(e,n,r,s){s=typeof s=="number"?s:1/0;for(var i=[],a=null,u=0,c=0,y=n.length;c<y;c++){var d=n[c];typeof d.getLatLng=="function"?(a=d.getLatLng(),u=t.GeometryUtil.distance(e,r,a)):(a=t.GeometryUtil.closest(e,d,r),a&&(u=a.distance)),a&&u<s&&i.push({layer:d,latlng:a,distance:u})}var p=i.sort(function(f,h){return f.distance-h.distance});return p},closestLayerSnap:function(e,n,r,s,i){s=typeof s=="number"?s:1/0,i=typeof i=="boolean"?i:!0;var a=t.GeometryUtil.closestLayer(e,n,r);if(!a||a.distance>s)return null;if(i&&typeof a.layer.getLatLngs=="function"){var u=t.GeometryUtil.closest(e,a.layer,a.latlng,!0);u.distance<s&&(a.latlng=u,a.distance=t.GeometryUtil.distance(e,u,r))}return a},interpolateOnPointSegment:function(e,n,r){return t.point(e.x*(1-r)+r*n.x,e.y*(1-r)+r*n.y)},interpolateOnLine:function(e,n,r){n=n instanceof t.Polyline?n.getLatLngs():n;var s=n.length;if(s<2)return null;if(r=Math.max(Math.min(r,1),0),r===0)return{latLng:n[0]instanceof t.LatLng?n[0]:t.latLng(n[0]),predecessor:-1};if(r==1)return{latLng:n[n.length-1]instanceof t.LatLng?n[n.length-1]:t.latLng(n[n.length-1]),predecessor:n.length-2};var i=e.getMaxZoom();i===1/0&&(i=e.getZoom());for(var a=[],u=0,c=0;c<s;c++)a[c]=e.project(n[c],i),c>0&&(u+=a[c-1].distanceTo(a[c]));for(var y=u*r,d=0,p=0,c=0;p<y;c++){var f=a[c],h=a[c+1];d=p,p+=f.distanceTo(h)}if(f==null&&h==null)var f=a[0],h=a[1],c=1;var G=p-d!==0?(y-d)/(p-d):0,O=t.GeometryUtil.interpolateOnPointSegment(f,h,G);return{latLng:e.unproject(O,i),predecessor:c-1}},locateOnLine:function(e,n,r){var s=n.getLatLngs();if(r.equals(s[0]))return 0;if(r.equals(s[s.length-1]))return 1;for(var i=t.GeometryUtil.closest(e,n,r,!1),a=t.GeometryUtil.accumulatedLengths(s),u=a[a.length-1],c=0,y=!1,d=0,p=s.length-1;d<p;d++){var f=s[d],h=s[d+1];if(c=a[d],t.GeometryUtil.belongsSegment(i,f,h,.001)){c+=f.distanceTo(i),y=!0;break}}if(!y)throw"Could not interpolate "+r.toString()+" within "+n.toString();return c/u},reverse:function(e){return t.polyline(e.getLatLngs().slice(0).reverse())},extract:function(e,n,r,s){if(r>s)return t.GeometryUtil.extract(e,t.GeometryUtil.reverse(n),1-r,1-s);r=Math.max(Math.min(r,1),0),s=Math.max(Math.min(s,1),0);var i=n.getLatLngs(),a=t.GeometryUtil.interpolateOnLine(e,n,r),u=t.GeometryUtil.interpolateOnLine(e,n,s);if(r==s){var c=t.GeometryUtil.interpolateOnLine(e,n,s);return[c.latLng]}a.predecessor==-1&&(a.predecessor=0),u.predecessor==-1&&(u.predecessor=0);var y=i.slice(a.predecessor+1,u.predecessor+1);return y.unshift(a.latLng),y.push(u.latLng),y},isBefore:function(e,n){if(!n)return!1;var r=e.getLatLngs(),s=n.getLatLngs();return r[r.length-1].equals(s[0])},isAfter:function(e,n){if(!n)return!1;var r=e.getLatLngs(),s=n.getLatLngs();return r[0].equals(s[s.length-1])},startsAtExtremity:function(e,n){if(!n)return!1;var r=e.getLatLngs(),s=n.getLatLngs(),i=r[0];return i.equals(s[0])||i.equals(s[s.length-1])},computeAngle:function(e,n){return Math.atan2(n.y-e.y,n.x-e.x)*180/Math.PI},computeSlope:function(e,n){var r=(n.y-e.y)/(n.x-e.x),s=e.y-r*e.x;return{a:r,b:s}},rotatePoint:function(e,n,r,s){var i=e.getMaxZoom();i===1/0&&(i=e.getZoom());var a=r*Math.PI/180,u=e.project(n,i),c=e.project(s,i),y=Math.cos(a)*(u.x-c.x)-Math.sin(a)*(u.y-c.y)+c.x,d=Math.sin(a)*(u.x-c.x)+Math.cos(a)*(u.y-c.y)+c.y;return e.unproject(new t.Point(y,d),i)},bearing:function(e,n){var r=Math.PI/180,s=e.lat*r,i=n.lat*r,a=e.lng*r,u=n.lng*r,c=Math.sin(u-a)*Math.cos(i),y=Math.cos(s)*Math.sin(i)-Math.sin(s)*Math.cos(i)*Math.cos(u-a),d=(Math.atan2(c,y)*180/Math.PI+360)%360;return d>=180?d-360:d},destination:function(e,n,r){n=(n+360)%360;var s=Math.PI/180,i=180/Math.PI,a=t.CRS.Earth.R,u=e.lng*s,c=e.lat*s,y=n*s,d=Math.sin(c),p=Math.cos(c),f=Math.cos(r/a),h=Math.sin(r/a),G=Math.asin(d*f+p*h*Math.cos(y)),O=u+Math.atan2(Math.sin(y)*h*p,f-d*Math.sin(G));return O=O*i,O=O>180?O-360:O<-180?O+360:O,t.latLng([G*i,O])},angle:function(e,n,r){var s=e.latLngToContainerPoint(n),i=e.latLngToContainerPoint(r),a=Math.atan2(i.y-s.y,i.x-s.x)*180/Math.PI+90;return a+=a<0?360:0,a},destinationOnSegment:function(e,n,r,s){var i=t.GeometryUtil.angle(e,n,r),a=t.GeometryUtil.destination(n,i,s);return t.GeometryUtil.closestOnSegment(e,a,n,r)}}),t.GeometryUtil})})(So);function jo(o,t){return(o%t+t)%t}function Po(o){return Object.fromEntries(Object.entries(o).filter(([t,e])=>e!==void 0))}function ee(o){return o.toString().trim().slice(o.toString().length-1,o.toString().length)==="m"}function Re(o){return o.toString().trim().slice(o.toString().length-1,o.toString().length)==="%"}function te(o){return o.toString().trim().slice(o.toString().length-2,o.toString().length)==="px"}function ue(o,t){let e=t.getCenter(),n=t.latLngToLayerPoint(e),r={x:n.x+Number(o),y:n.y},s=t.layerPointToLatLng(r);return t.distance(e,s)}L.Polyline.include({arrowheads:function(o={}){const t={yawn:60,size:"15%",frequency:"allvertices",proportionalToTotal:!1};this.options.noClip=!0;let e=Object.assign({},t,o);return this._arrowheadOptions=e,this._hatsApplied=!0,this},buildVectorHats:function(o){this._arrowheads&&this._arrowheads.remove(),this._ghosts&&this._ghosts.remove();let t=Object.getPrototypeOf(Object.getPrototypeOf(this.options)),e=Object.assign({},t,this.options),n=Object.assign({},e,o);n.smoothFactor=1,n.fillOpacity=1,n.fill=!!o.fill,n.interactive=!1;let r=o.size.toString(),s=[];const{frequency:i,offsets:a}=o;(a!=null&&a.start||a!=null&&a.end)&&this._buildGhosts({start:a.start,end:a.end}),(this._ghosts||this)._parts.forEach((y,d)=>{const p=y.map(S=>this._map.layerPointToLatLng(S)),f=(()=>{let S=0;for(var b=0;b<y.length-1;b++)S+=this._map.distance(p[b],p[b+1]);return S})();let h,G,O,v;if(isNaN(i)?Re(i)?console.error("Error: arrowhead frequency option cannot be given in percent.  Try another unit."):ee(i)?(O=i.slice(0,i.length-1)/f,v=1/O,v=Math.floor(v),O=1/v):te(i)&&(O=(()=>{let S=i.slice(0,i.length-2);return ue(S,this._map)/f})(),v=1/O,v=Math.floor(v),O=1/v):(O=1/i,v=i),o.frequency==="allvertices")G=(()=>{let S=[];for(var b=1;b<p.length;b++){let k=L.GeometryUtil.angle(this._map,p[jo(b-1,p.length)],p[b])+180;S.push(k)}return S})(),h=p,h.shift();else if(o.frequency==="endonly"&&p.length>=2)h=[p[p.length-1]],G=[L.GeometryUtil.angle(this._map,p[p.length-2],p[p.length-1])+180];else{h=[];let S=[];for(var g=0;g<v;g++){let b=L.GeometryUtil.interpolateOnLine(this._map,p,O*(g+1));b&&(S.push(b),h.push(b.latLng))}G=(()=>{let b=[];for(var k=0;k<S.length;k++){let m=L.GeometryUtil.angle(this._map,p[S[k].predecessor+1],p[S[k].predecessor]);b.push(m)}return b})()}let U=[];const N=(S,b={})=>{let k=b.yawn??o.yawn,m=L.GeometryUtil.destination(h[g],G[g]-k/2,S),j=L.GeometryUtil.destination(h[g],G[g]+k/2,S),x=[[m.lat,m.lng],[h[g].lat,h[g].lng],[j.lat,j.lng]],H=o.fill?L.polygon(x,{...n,...b}):L.polyline(x,{...n,...b});U.push(H)},J=(S,b={})=>{let k=S.slice(0,S.length-2),m=b.yawn??o.yawn,j=this._map.latLngToLayerPoint(h[g]),x=G[g],H=(180-x-m/2)*(Math.PI/180),qe=(180-x+m/2)*(Math.PI/180),gt=k*Math.sin(H),bt=k*Math.cos(H),Lt=k*Math.sin(qe),Ot=k*Math.cos(qe),_t={x:j.x+gt,y:j.y+bt},St={x:j.x+Lt,y:j.y+Ot},Ee=this._map.layerPointToLatLng(_t),Ze=this._map.layerPointToLatLng(St),We=[[Ee.lat,Ee.lng],[h[g].lat,h[g].lng],[Ze.lat,Ze.lng]],jt=o.fill?L.polygon(We,{...n,...b}):L.polyline(We,{...n,...b});U.push(jt)};for(var g=0;g<h.length;g++){let{perArrowheadOptions:b,...k}=o;if(b=b?b(g):{},b=Object.assign(k,Po(b)),r=b.size??r,ee(r)){let m=r.slice(0,r.length-1);N(m,b)}else if(Re(r)){let m=r.slice(0,r.length-1),j=(()=>o.frequency==="endonly"&&o.proportionalToTotal?f*m/100:f/(y.length-1)*m/100)();N(j,b)}else te(r)?J(o.size,b):console.error("Error: Arrowhead size unit not defined.  Check your arrowhead options.")}s.push(...U)});let c=L.layerGroup(s);return this._arrowheads=c,this},getArrowheads:function(){return this._arrowheads?this._arrowheads:console.error("Error: You tried to call '.getArrowheads() on a shape that does not have a arrowhead.  Use '.arrowheads()' to add a arrowheads before trying to call '.getArrowheads()'")},_buildGhosts:function({start:o,end:t}){if(o||t){let e=this.getLatLngs();e=Array.isArray(e[0])?e:[e];const n=e.map(r=>{const s=(()=>{let i=0;for(var a=0;a<r.length-1;a++)i+=this._map.distance(r[a],r[a+1]);return i})();if(o){let i=(()=>{if(ee(o))return Number(o.slice(0,o.length-1));if(te(o)){let u=Number(o.slice(0,o.length-2));return ue(u,this._map)}})(),a=L.GeometryUtil.interpolateOnLine(this._map,r,i/s);r=r.slice(a.predecessor===-1?1:a.predecessor+1,r.length),r.unshift(a.latLng)}if(t){let i=(()=>{if(ee(t))return Number(t.slice(0,t.length-1));if(te(t)){let u=Number(t.slice(0,t.length-2));return ue(u,this._map)}})(),a=L.GeometryUtil.interpolateOnLine(this._map,r,(s-i)/s);r=r.slice(0,a.predecessor+1),r.push(a.latLng)}return r});this._ghosts=L.polyline(n,{...this.options,color:"rgba(0,0,0,0)",stroke:0,smoothFactor:0,interactive:!1}),this._ghosts.addTo(this._map)}},deleteArrowheads:function(){this._arrowheads&&(this._arrowheads.remove(),delete this._arrowheads,delete this._arrowheadOptions,this._hatsApplied=!1),this._ghosts&&this._ghosts.remove()},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath(),this._hatsApplied&&(this.buildVectorHats(this._arrowheadOptions),this._map.addLayer(this._arrowheads)))},remove:function(){return this._arrowheads&&this._arrowheads.remove(),this._ghosts&&this._ghosts.remove(),this.removeFrom(this._map||this._mapToAdd)}});L.LayerGroup.include({removeLayer:function(o){var t=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[t]&&(this._layers[t]._arrowheads&&this._layers[t]._arrowheads.remove(),this._map.removeLayer(this._layers[t])),delete this._layers[t],this},onRemove:function(o,t){for(var t in this._layers)this._layers[t]&&this._layers[t].remove();this.eachLayer(o.removeLayer,o)}});L.Map.include({removeLayer:function(o){var t=L.Util.stamp(o);return o._arrowheads&&o._arrowheads.remove(),o._ghosts&&o._ghosts.remove(),this._layers[t]?(this._loaded&&o.onRemove(this),o.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(o.getAttribution()),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this}});L.GeoJSON.include({geometryToLayer:function(o,t){var e=o.type==="Feature"?o.geometry:o,n=e?e.coordinates:null,r=[],s=t&&t.pointToLayer,i=t&&t.coordsToLatLng||L.GeoJSON.coordsToLatLng,a,u,c,y;if(!n&&!e)return null;switch(e.type){case"Point":return a=i(n),this._pointToLayer(s,o,a,t);case"MultiPoint":for(c=0,y=n.length;c<y;c++)a=i(n[c]),r.push(this._pointToLayer(s,o,a,t));return new L.FeatureGroup(r);case"LineString":case"MultiLineString":u=L.GeoJSON.coordsToLatLngs(n,e.type==="LineString"?0:1,i);var d=new L.Polyline(u,t);return t.arrowheads&&d.arrowheads(t.arrowheads),d;case"Polygon":case"MultiPolygon":return u=L.GeoJSON.coordsToLatLngs(n,e.type==="Polygon"?1:2,i),new L.Polygon(u,t);case"GeometryCollection":for(c=0,y=e.geometries.length;c<y;c++){var p=this.geometryToLayer({geometry:e.geometries[c],type:"Feature",properties:o.properties},t);p&&r.push(p)}return new L.FeatureGroup(r);default:throw new Error("Invalid GeoJSON object.")}},addData:function(o){var t=L.Util.isArray(o)?o:o.features,e,n,r;if(t){for(e=0,n=t.length;e<n;e++)r=t[e],(r.geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var s=this.options;if(s.filter&&!s.filter(o))return this;var i=this.geometryToLayer(o,s);return i?(i.feature=L.GeoJSON.asFeature(o),i.defaultOptions=i.options,this.resetStyle(i),s.onEachFeature&&s.onEachFeature(o,i),this.addLayer(i)):this},_pointToLayer:function(o,t,e,n){return o?o(t,e):new L.Marker(e,n&&n.markersInheritOptions&&n)}});const Be={...V,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},dt=(o,t,e)=>{const{options:n,methods:r}=oe(o,t,e),s=M(o,Be,n),i={...r,setSmoothFactor(a){t.value.setStyle({smoothFactor:a})},setNoClip(a){t.value.setStyle({noClip:a})},addLatLng(a){t.value.addLatLng(a)},setArrowheads(a){t.value.arrowheads(a)}};return{options:s,methods:i}},To=Object.freeze(Object.defineProperty({__proto__:null,arrowheadsProps:Be,setupArrowheads:dt},Symbol.toStringTag,{value:"Module"})),Mo=l.defineComponent({name:"LArrowheads",props:Be,setup(o,t){const e=l.ref(),n=l.ref(!1),r=l.inject(w),s=_(A),{options:i,methods:a}=dt(o,e,t);return l.onMounted(async()=>{const{polyline:u}=r?T.L:await import("leaflet/dist/leaflet-src.esm");await Promise.resolve().then(()=>require("./index-5d960497.js")),e.value=l.markRaw(u(o.latLngs,i));const{listeners:c}=I(t.attrs);e.value.on(c),C(a,e.value,o),s({...o,...a,leafletObject:e.value}),n.value=!0,l.nextTick(()=>t.emit("ready",e.value))}),{ready:n,leafletObject:e,setArrowheads:a.setArrowheads}},render(){return B(this.ready,this.$slots)}}),xe={...q,content:{type:String,default:null}},Ne=(o,t)=>{const{options:e,methods:n}=E(o),r={...n,setContent(s){t.value&&s!==null&&s!==void 0&&t.value.setContent(s)}};return{options:e,methods:r}},ze=o=>o.default?l.h("div",{ref:"root"},o.default()):null,Co=Object.freeze(Object.defineProperty({__proto__:null,popperProps:xe,render:ze,setupPopper:Ne},Symbol.toStringTag,{value:"Module"})),yt={...xe,latLng:{type:[Object,Array],default:()=>[]}},pt=(o,t)=>{const{options:e,methods:n}=Ne(o,t);return{options:e,methods:n}},wo=Object.freeze(Object.defineProperty({__proto__:null,popupProps:yt,setupPopup:pt},Symbol.toStringTag,{value:"Module"})),Go=l.defineComponent({name:"LPopup",props:yt,setup(o,t){const e=l.ref(),n=l.ref(null),r=l.inject(w),s=_(ve),i=_(be),{options:a,methods:u}=pt(o,e);return l.onMounted(async()=>{const{popup:c}=r?T.L:await import("leaflet/dist/leaflet-src.esm");e.value=l.markRaw(c(a)),o.latLng!==void 0&&e.value.setLatLng(o.latLng),C(u,e.value,o);const{listeners:y}=I(t.attrs);e.value.on(y),e.value.setContent(o.content||n.value||""),s(e.value),l.nextTick(()=>t.emit("ready",e.value))}),l.onBeforeUnmount(()=>{i()}),{root:n,leafletObject:e}},render(){return ze(this.$slots)}}),$e={...Y,latLngs:{...Y.latLngs,required:!1},bounds:{type:Object,custom:!0}},ft=(o,t,e)=>{const{options:n,methods:r}=Ue(o,t,e),s=M(o,$e,n),i={...r,setBounds(a){t.value.setBounds(a)},setLatLngs(a){t.value.setBounds(a)}};return{options:s,methods:i}},ko=Object.freeze(Object.defineProperty({__proto__:null,rectangleProps:$e,setupRectangle:ft},Symbol.toStringTag,{value:"Module"})),Io=l.defineComponent({name:"LRectangle",props:$e,setup(o,t){const e=l.ref(),n=l.ref(!1),r=l.inject(w),s=_(A),{options:i,methods:a}=ft(o,e,t);return l.onMounted(async()=>{const{rectangle:u,latLngBounds:c}=r?T.L:await import("leaflet/dist/leaflet-src.esm"),y=o.bounds?c(o.bounds):c(o.latLngs||[]);e.value=l.markRaw(u(y,i));const{listeners:d}=I(t.attrs);e.value.on(d),C(a,e.value,o),s({...o,...a,leafletObject:e.value}),n.value=!0,l.nextTick(()=>t.emit("ready",e.value))}),{ready:n,leafletObject:e}},render(){return B(this.ready,this.$slots)}}),le={...se,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:o=>typeof o=="string"?!0:Array.isArray(o)?o.every(t=>typeof t=="string"):!1},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}},Fe=(o,t,e)=>{const{options:n,methods:r}=Ge(o,t,e),s=M(o,le,n),i={...r};return{options:s,methods:i}},Ao=Object.freeze(Object.defineProperty({__proto__:null,setupTileLayer:Fe,tileLayerProps:le},Symbol.toStringTag,{value:"Module"})),Uo=l.defineComponent({props:le,setup(o,t){const e=l.ref(),n=l.inject(w),r=_(A),{options:s,methods:i}=Fe(o,e,t);return l.onMounted(async()=>{const{tileLayer:a}=n?T.L:await import("leaflet/dist/leaflet-src.esm");e.value=l.markRaw(a(o.url,s));const{listeners:u}=I(t.attrs);e.value.on(u),C(i,e.value,o),r({...o,...i,leafletObject:e.value}),l.nextTick(()=>t.emit("ready",e.value))}),{leafletObject:e}},render(){return null}}),mt={...xe},ht=(o,t)=>{const{options:e,methods:n}=Ne(o,t),r=_(Le);return l.onBeforeUnmount(()=>{r()}),{options:e,methods:n}},Bo=Object.freeze(Object.defineProperty({__proto__:null,setupTooltip:ht,tooltipProps:mt},Symbol.toStringTag,{value:"Module"})),xo=l.defineComponent({name:"LTooltip",props:mt,setup(o,t){const e=l.ref(),n=l.ref(null),r=l.inject(w),s=_(ge),{options:i,methods:a}=ht(o,e);return l.onMounted(async()=>{const{tooltip:u}=r?T.L:await import("leaflet/dist/leaflet-src.esm");e.value=l.markRaw(u(i)),C(a,e.value,o);const{listeners:c}=I(t.attrs);e.value.on(c),e.value.setContent(o.content||n.value||""),s(e.value),l.nextTick(()=>t.emit("ready",e.value))}),{root:n,leafletObject:e}},render(){return ze(this.$slots)}}),De={...le,layers:{type:String,required:!0},styles:{type:String},format:{type:String},transparent:{type:Boolean,default:void 0},version:{type:String},crs:{type:Object},uppercase:{type:Boolean,default:void 0}},vt=(o,t,e)=>{const{options:n,methods:r}=Fe(o,t,e);return{options:M(o,De,n),methods:{...r}}},No=Object.freeze(Object.defineProperty({__proto__:null,setupWMSTileLayer:vt,wmsTileLayerProps:De},Symbol.toStringTag,{value:"Module"})),zo=l.defineComponent({props:De,setup(o,t){const e=l.ref(),n=l.inject(w),r=_(A),{options:s,methods:i}=vt(o,e,t);return l.onMounted(async()=>{const{tileLayer:a}=n?T.L:await import("leaflet/dist/leaflet-src.esm");e.value=l.markRaw(a.wms(o.url,s));const{listeners:u}=I(t.attrs);e.value.on(u),C(i,e.value,o),r({...o,...i,leafletObject:e.value}),l.nextTick(()=>t.emit("ready",e.value))}),{leafletObject:e}},render(){return null}}),$o=Object.freeze(Object.defineProperty({__proto__:null,Arrowheads:To,Circle:$t,CircleMarker:zt,Component:Ut,Control:qt,ControlAttribution:Zt,ControlLayers:Jt,ControlScale:Rt,ControlZoom:Yt,FeatureGroup:Qt,GeoJSON:to,GridLayer:no,Icon:so,ImageOverlay:io,InteractiveLayer:xt,Layer:Bt,LayerGroup:Vt,Marker:vo,Path:Nt,Polygon:Lo,Polyline:bo,Popper:Co,Popup:wo,Rectangle:ko,TileLayer:Ao,Tooltip:Bo,WmsTileLayer:No},Symbol.toStringTag,{value:"Module"}));exports.Functions=$o;exports.InjectionKeys=At;exports.LArrowheads=Mo;exports.LCircle=Ft;exports.LCircleMarker=Dt;exports.LControl=Et;exports.LControlAttribution=Wt;exports.LControlLayers=Ht;exports.LControlScale=Kt;exports.LControlZoom=Xt;exports.LFeatureGroup=eo;exports.LGeoJson=oo;exports.LGridLayer=ro;exports.LIcon=ao;exports.LImageOverlay=lo;exports.LLayerGroup=yo;exports.LMap=po;exports.LMarker=go;exports.LPolygon=Oo;exports.LPolyline=_o;exports.LPopup=Go;exports.LRectangle=Io;exports.LSVGOverlay=co;exports.LTileLayer=Uo;exports.LTooltip=xo;exports.LWmsTileLayer=zo;exports.Utilities=It;
